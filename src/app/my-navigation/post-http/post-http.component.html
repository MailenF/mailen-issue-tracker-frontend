<body>
  <h1>Create a new Ticket</h1>
  <form [formGroup]="form" (ngSubmit)="createTiket()">
    <div class="mat-form-field">
      <tr>
        <mat-form-field appearance="fill">
          <mat-label>Type Error</mat-label>
          <input matInput formControlName="typeError" />
        </mat-form-field>
      </tr>

      <mat-form-field appearance="fill">
        <mat-label>Description Error</mat-label>
        <textarea
          class="type-error-container"
          matInput
          formControlName="descriptionError"
        ></textarea>
      </mat-form-field>
      <tr>
        <mat-form-field appearance="fill">
          <mat-label>Reported By</mat-label>
          <input matInput formControlName="reportedBy" />
        </mat-form-field>
      </tr>
      <mat-form-field appearance="fill">
        <mat-label>State</mat-label>
        <mat-select formControlName="state">
          <mat-option value="to-do">To Do</mat-option>
          <mat-option value="in-progress">In Progress</mat-option>
          <mat-option value="done">Done</mat-option>
          <mat-option value="review">Review</mat-option>
        </mat-select>
      </mat-form-field>
      <tr>
        <mat-form-field appearance="fill">
          <mat-label>Project</mat-label>
          <mat-select formControlName="project">
            <mat-option *ngFor="let project of projects" [value]="project.id">
              {{ project.project }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </tr>
      <tr>
        <mat-form-field appearance="fill">
          <mat-label>Reported</mat-label>
          <mat-select formControlName="userReported">
            <mat-option *ngFor="let user of users" [value]="user.id">
              {{ user.name }} {{ user.surname }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </tr>
      <tr>
        <mat-form-field appearance="fill">
          <mat-label>Assigned </mat-label>
          <mat-select formControlName="UserAssigned">
            <mat-option *ngFor="let user of users" [value]="user.id">
              {{ user.name }} {{ user.surname }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </tr>
    </div>

    <div class="button">
      <button
        class="button"
        mat-raised-button
        type="submit"
        [disabled]="form.invalid"
      >
        Create Ticket
      </button>
    </div>
  </form>
</body>
